<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<!--
User-specific font configuration file
Place at $XDG_CONFIG_DIR/fontconfig/fonts.conf
i.e. ~/.config/fontconfig/fonts.conf

Part of my dotfiles, which are managed with GNU Stow.
https://gitlab.com/protesilaos/dotfiles

For the actual fonts, see the README included in the same directory as
this file.  All my font files are available at ~/.local/share/fonts.

Last reviewed on 2018-11-18
-->
<fontconfig>
    <!-- General font settings -->
    <match target="pattern">

        <edit name="rgba" mode="append">
            <const>rgb</const>
        </edit>

        <edit name="hinting" mode="append">
            <bool>true</bool>
        </edit>

        <edit name="hintstyle" mode="append">
            <const>hintslight</const>
        </edit>

        <edit name="antialias" mode="append">
            <bool>true</bool>
        </edit>

        <edit name="lcdfilter" mode="append">
            <const>lcddefault</const>
        </edit>

    </match>

    <!-- If the requested font is serif -->
    <!-- Display serif and then emoji fallbacks -->
    <match target="pattern">
        <test qual="any" name="family">
            <string>serif</string>
        </test>
        <edit name="family" mode="prepend_first">
            <string>emoji</string>
        </edit>
    </match>

    <!-- If the requested font is sans-serif -->
    <!-- Display sans-serif and then emoji fallbacks -->
    <match target="pattern">
        <test qual="any" name="family">
            <string>sans-serif</string>
        </test>
        <edit name="family" mode="prepend_first">
            <string>emoji</string>
        </edit>
    </match>

    <!-- If the requested font is sans -->
    <!-- Display sans and then emoji fallbacks -->
    <match target="pattern">
        <test qual="any" name="family">
            <string>sans</string>
        </test>
        <edit name="family" mode="prepend_first">
            <string>emoji</string>
        </edit>
    </match>

    <!-- Font aliases for fallbacks -->
    <alias>
        <family>serif</family>
        <prefer><family>DejaVu Serif</family></prefer>
    </alias>

    <alias>
        <family>sans-serif</family>
        <!-- <prefer><family>DejaVu Sans</family></prefer> -->
        <prefer><family>FiraGO</family></prefer>
    </alias>

    <alias>
        <family>sans</family>
        <!-- <prefer><family>DejaVu Sans</family></prefer> -->
        <prefer><family>FiraGO</family></prefer>
    </alias>

    <alias>
        <family>monospace</family>
        <prefer><family>Hack</family></prefer>
        <!-- <prefer><family>DejaVu Sans Mono</family></prefer> -->
    </alias>

    <alias>
        <family>fixed</family>
        <prefer><family>tamzen</family></prefer>
    </alias>

    <alias>
        <family>emoji</family>
        <default><family>Noto Color Emoji</family></default>
    </alias>

</fontconfig>
