Only in /home/prot/st-0.8.2-prot-soft-fork/: active-tempus-theme.h
diff -up /home/prot/st-0.8.2-upstream/config.def.h /home/prot/st-0.8.2-prot-soft-fork/config.def.h
--- /home/prot/st-0.8.2-upstream/config.def.h	2019-02-09 13:50:41.000000000 +0200
+++ /home/prot/st-0.8.2-prot-soft-fork/config.def.h	2019-02-12 11:57:19.686095296 +0200
@@ -1,3 +1,20 @@
+// vi:ft=cpp:foldmethod=marker
+
+/*
+ * Description {{{
+ * ---------------
+ * 
+ * This is the C header file for configuring my fork of `st`, the
+ * Simple/Suckless Terminal emulator.  This program is incorporated
+ * in my dotfiles and is typically used in tandem with `tmux`.  See
+ * https://gitlab.com/protesilaos/dotfiles.
+ *
+ * You must check out the README to find more about the reasoning behind
+ * this fork and the changes it introduces to the upstream code base.
+ * 
+ * }}} 
+ */
+
 /* See LICENSE file for copyright and license details. */
 
 /*
@@ -5,8 +22,8 @@
  *
  * font: see http://freedesktop.org/software/fontconfig/fontconfig-user.html
  */
-static char *font = "Liberation Mono:pixelsize=12:antialias=true:autohint=true";
-static int borderpx = 2;
+static char *font = "monospace:size=9.5";
+static int borderpx = 0;
 
 /*
  * What program is execed by st depends of these precedence rules:
@@ -82,44 +99,18 @@ char *termname = "st-256color";
  */
 unsigned int tabspaces = 8;
 
-/* Terminal colors (16 first used in escape sequence) */
-static const char *colorname[] = {
-	/* 8 normal colors */
-	"black",
-	"red3",
-	"green3",
-	"yellow3",
-	"blue2",
-	"magenta3",
-	"cyan3",
-	"gray90",
-
-	/* 8 bright colors */
-	"gray50",
-	"red",
-	"green",
-	"yellow",
-	"#5c5cff",
-	"magenta",
-	"cyan",
-	"white",
-
-	[255] = 0,
-
-	/* more colors can be added after 255 to use with DefaultXX */
-	"#cccccc",
-	"#555555",
-};
-
-
 /*
- * Default colors (colorname index)
- * foreground, background, cursor, reverse cursor
- */
-unsigned int defaultfg = 7;
-unsigned int defaultbg = 0;
-static unsigned int defaultcs = 256;
-static unsigned int defaultrcs = 257;
+ * Colours and theming {{{
+ * -----------------------
+ *
+ * This sources a file that references one of my Tempus themes for `st`.
+ * This makes it easier to change themes by modifying that one reference
+ * (typically via a script).  This setup is part of my dotfiles, as
+ * described in the README.
+ * 
+ * }}}
+ */
+#include "active-tempus-theme.h"
 
 /*
  * Default shape of cursor
@@ -141,8 +132,6 @@ static unsigned int rows = 24;
  * Default colour and shape of the mouse cursor
  */
 static unsigned int mouseshape = XC_xterm;
-static unsigned int mousefg = 7;
-static unsigned int mousebg = 0;
 
 /*
  * Color used to display font attributes when fontconfig selected a font which
diff -up /home/prot/st-0.8.2-upstream/config.mk /home/prot/st-0.8.2-prot-soft-fork/config.mk
--- /home/prot/st-0.8.2-upstream/config.mk	2019-02-09 13:50:41.000000000 +0200
+++ /home/prot/st-0.8.2-prot-soft-fork/config.mk	2019-02-12 11:23:27.331632227 +0200
@@ -4,7 +4,7 @@ VERSION = 0.8.2
 # Customize below to fit your system
 
 # paths
-PREFIX = /usr/local
+PREFIX = $(shell echo "$$HOME")
 MANPREFIX = $(PREFIX)/share/man
 
 X11INC = /usr/X11R6/include
Only in /home/prot/st-0.8.2-prot-soft-fork/: .git
diff -up /home/prot/st-0.8.2-upstream/README /home/prot/st-0.8.2-prot-soft-fork/README
--- /home/prot/st-0.8.2-upstream/README	2019-02-09 13:50:41.000000000 +0200
+++ /home/prot/st-0.8.2-prot-soft-fork/README	2019-02-12 11:53:45.300122763 +0200
@@ -1,3 +1,71 @@
+Soft fork of ST - Simple Terminal
+=================================
+
+Intended for use with my custom desktop session on Debian Buster (refer
+to my dotfiles).
+
+Sources
+-------
+
+* Upstream: https://st.suckless.org
+* My fork: https://gitlab.com/protesilaos/st
+* My dots: https://gitlab.com/protesilaos/dotfiles
+
+Description
+-----------
+
+This is a fork of `st` version 0.8.2 (released on 2019-02-09) by the
+Suckless community.  It is meant to be used in tandem with my custom
+desktop session, which is based on BSPWM.
+
+My changes are defined in "st-protesilaos-stavrou-soft-fork-0.8.2.diff`.
+They concern the following:
+
+* Compile the program inside the user's home directory.  This is done by
+  altering the path prefix in `config.mk`.  The working assumption is
+  that the user has a "bin" directory in their $HOME and it is added to
+  the $PATH.
+* A generic font specification that leverages `fontconfig` aliases.  The
+  fonts are defined in `fonts.conf`.  See my dotfiles for more,
+  specifically the content of the "fonts" directory.
+* Consolidation and outsourcing of all colour-related options.  The
+  theme that is used via an `include` directive in `config.deh.f` is
+  part of my Tempus Themes project.  Relevant theme files are also
+  distributed with my dotfiles.  For more about the project, see
+  https://gitlab.com/protesilaos/tempus-themes
+
+Preparing the patch
+-------------------
+
+Using the `0.8.2` release tarball, I extracted the files into
+`~/st-0.8.2-upstream`.  Then I copied that directory into
+`~/st-0.8.2-prot-soft-fork`, where I introduced my changes.  The `.diff`
+was created with:
+
+	diff -up ~/st-0.8.2-upstream ~/st-0.8.2-prot-soft-fork/ > \
+	st-protesilaos-stavrou-soft-fork-0.8.2.diff	
+   
+Build dependencies on Debian Buster/Sid
+---------------------------------------
+
+To install on Debian Buster, you need these first:
+
+    sudo apt install libx11-dev libxft-dev libxext-dev pkgconf libfreetype6-dev
+
+To prevent ST from segfaulting when trying to display emoji or similar
+symbols, also do:
+
+	sudo apt install fonts-symbola
+
+
+
+
+ORIGINAL README BELOW
+---------------------
+
+
+
+
 st - simple terminal
 --------------------
 st is a simple terminal emulator for X which sucks less.
@@ -31,4 +99,3 @@ See the man page for additional details.
 Credits
 -------
 Based on Aur√©lien APTEL <aurelien dot aptel at gmail dot com> bt source code.
-
Only in /home/prot/st-0.8.2-prot-soft-fork/: st-protesilaos-stavrou-soft-fork-0.8.2.diff
Only in /home/prot/st-0.8.2-prot-soft-fork/: tempus_autumn.h
Only in /home/prot/st-0.8.2-prot-soft-fork/: tempus_classic.h
Only in /home/prot/st-0.8.2-prot-soft-fork/: tempus_dawn.h
Only in /home/prot/st-0.8.2-prot-soft-fork/: tempus_day.h
Only in /home/prot/st-0.8.2-prot-soft-fork/: tempus_dusk.h
Only in /home/prot/st-0.8.2-prot-soft-fork/: tempus_fugit.h
Only in /home/prot/st-0.8.2-prot-soft-fork/: tempus_future.h
Only in /home/prot/st-0.8.2-prot-soft-fork/: tempus_night.h
Only in /home/prot/st-0.8.2-prot-soft-fork/: tempus_past.h
Only in /home/prot/st-0.8.2-prot-soft-fork/: tempus_rift.h
Only in /home/prot/st-0.8.2-prot-soft-fork/: tempus_spring.h
Only in /home/prot/st-0.8.2-prot-soft-fork/: tempus_summer.h
Only in /home/prot/st-0.8.2-prot-soft-fork/: tempus_tempest.h
Only in /home/prot/st-0.8.2-prot-soft-fork/: tempus_totus.h
Only in /home/prot/st-0.8.2-prot-soft-fork/: tempus_warp.h
Only in /home/prot/st-0.8.2-prot-soft-fork/: tempus_winter.h
